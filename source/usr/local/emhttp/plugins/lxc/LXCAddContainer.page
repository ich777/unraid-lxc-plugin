Title="Add LXC Container"
Markdown="false"
---
<?php
$started = $var['fsState']=='Started';
?>

<script>
    //Don't execute commands again if page is refreshed
    if ( window.history.replaceState ) {
        window.history.replaceState( null, null, window.location.href );
    }

    function createContainer(form) {
        var distribution = form.contDistribution.value;
        var release = form.contRelease.value;
        var name = form.contName.value;
        var autostart = form.contAutostart.value;
        <?php $macaddress = "52:54:00:" .strtoupper(implode(':', str_split(substr(md5(mt_rand()), 0, 6), 2))); ?>
        openBox('/usr/local/emhttp/plugins/lxc/include/create_container.sh&arg1=<?php echo $macaddress; ?>&arg2='+distribution+'&arg3='+release+'&arg4='+name+'&arg5='+autostart,'Create',300,800,false);
        return false;
    }
</script>

<div id="canvas">
<form method="POST" autocomplete="off" onsubmit="createContainer(this)">

<div class="">
<dl>
<dt>Distribution:</dt>
<dd><input type="text" name="contDistribution" pattern="[a-zA-Z0-9][a-zA-Z0-9_.-]+" required="true" value="Debian"></dd>
</dl>
</div>

<div class="">
<dl>
<dt>Release:</dt>
<dd><input type="text" name="contRelease" pattern="[a-zA-Z0-9][a-zA-Z0-9_.-]+" required="true" value="Bullseye"></dd>
</dl>
</div>

<div class="">
<dl>
<dt>Name:</dt>
<dd><input type="text" name="contName" pattern="[a-zA-Z0-9][a-zA-Z0-9_.-]+" required="true" value="DebianLXC"></dd>
</dl>
</div>

<div class="">
<dl>
<dt>Autostart:</dt>
<dd><input type="checkbox" name="contAutostart" checked></dd>
</dl>
</div>

<input type="submit" value="Create"/> 
<a href="LXC" class="button">Back</a>

</form>
</div>
